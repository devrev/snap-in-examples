version: "2"
name: "GitHub PR Details"
description: "Get details of a GitHub PR."

# This is the name displayed in DevRev where the Snap-In takes actions using the token of this service account.
service_account:
  display_name: GitHub PR Details

keyrings:
  organization:
    - name: github_connection
      display_name: Github Connection
      description: Github PAT
      types:
        - snap_in_secret

functions:
  - name: command_handler
    description: function to get details of a GitHub PR
  - name: handle_actions
    description: function to merge or close a PR

commands:
  - name: pr_details
    namespace: devrev
    description: Command to get details of a PR.
    surfaces:
      - surface: discussions
        object_types:
          - part
    usage_hint: "[PR URL]"
    function: command_handler

snap_kit_actions:
  - name: update_pr
    description: Merges or closes a PR.
    function: handle_actions
