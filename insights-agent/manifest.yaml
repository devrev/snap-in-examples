version: "2"
name: "Insights Agent"
description: "Logs a message when a work item is created"

service_account:
  display_name: 3P Operation Bot

functions:
  - name: operation_handler
    description: function to handle operations

operations:
  - name: text_to_dataset
    display_name: Text to Dataset
    description: Operation to convert text to a dataset
    slug: text_to_dataset
    function: operation_handler
    type: action
    inputs:
      fields:
        - name: query
          field_type: text
          is_required: true
          ui:
            display_name: Query
    outputs:
      fields:
        - name: datasets
          field_type: text
          ui:
            display_name: Datasets

  - name: text_to_widget
    display_name: Text to Widget
    description: Operation to convert text to a widget
    slug: text_to_widget
    function: operation_handler
    type: action
    inputs:
      fields:
        - name: query
          field_type: text
          is_required: true
          ui:
            display_name: Query
    outputs:
      fields:
        - name: widgets
          field_type: text
          ui:
            display_name: Widgets

  - name: run_sql
    display_name: Run SQL
    description: Operation to run a sql query
    slug: run_sql
    function: operation_handler
    type: action
    inputs:
      fields:
        - name: sql_query
          field_type: text
          is_required: true
          ui:
            display_name: SQL Query
    outputs:
      fields:
        - name: data
          field_type: text
          ui:
            display_name: Data

